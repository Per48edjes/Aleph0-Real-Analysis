\section{Mean Value Theorem}

\begin{callout}
  We take the following theorem to be given (as the proof has been
  \href{https://www.youtube.com/watch?v=qtKZo1qOVlQ}{provided}).
  \begin{theorem}[Mean Value Theorem]
  \label{thm:mean-value-theorem}
    Suppose that $f : [a, b] \to \R$ is differentiable. Then there exists a point $c \in (a, b)$ such that
    \[
      f'(c) = \frac{f(b) - f(a)}{b - a}.
    \]
  \end{theorem}
\end{callout}

\begin{callout}
  The first several problems for this unit were applications of
  \thmref{thm:mean-value-theorem} with multiple choice answers and are omitted
  here.
\end{callout}

\begin{problem}
  \label{prob:lower-bounded-deriv-endpoints-not-on-secant-line}
  Prove that if $f'(x) \geq M$ for all $x \in [a, b]$, then $f(b) \geq f(a) + M(b - a)$.

  \begin{proof}
    We will prove the contrapositive. Start by assuming that
    \[
      f(b) < f(a) + M(b - a),
    \]
    which gives
    \[
      \frac{f(b) - f(a)}{b - a} < M.
    \]
    By \thmref{thm:mean-value-theorem}, there exists some $c \in (a, b)$ such that
    \[
      f'(c) = \frac{f(b) - f(a)}{b - a} < M.
    \]
  \end{proof}

  \begin{corollary}
    \label{cor:upper-bounded-deriv-endpoints-not-on-secant-line}
    If $f'(x) \leq M$ for all $x \in [a, b]$, then $f(b) \leq f(a) + M(b - a)$.
  \end{corollary}

  \begin{proof}
    Let $g'(x) \leq M$ for all $x \in [a, b]$. Put $f(x) = -g(x)$, so by \thmref{thm:chain-rule}, $f'(x) = -g'(x)$.
    Thus, $f(x) \geq -M$ for all $x \in [a, b]$. Now, by the claim of \probref{prob:lower-bounded-deriv-endpoints-not-on-secant-line},
    \[
      f(b) \geq f(a) + (-M)(b - a).
    \]
    Substituting back $g(x) = -f(x)$, we obtain 
    \[ 
      -g(b) \geq -g(a) - M(b - a),
    \] 
    which is equivalent to
    \[
      g(b) \leq g(a) + M(b - a).
    \]
  \end{proof}

\end{problem}

\begin{problem}
  \label{prob:lower-bounded-deriv-strictly-increasing}
  Let $f$ be differentiable on $(a, b)$ and suppose $f'(x) \geq m > 0$ for all $x \in (a, b)$.
  Prove that $f$ is strictly increasing on $[a, b]$.

  \begin{proof}

    By definition, $f$ is strictly increasing over $[a, b]$ if and only if
    $f(x_{1}) < f(x_{2})$ where $x_{1}, x_{2} \in [a, b]$ and $x_{1} < x_{2}$.
    Let $x_{1} < x_{2}$ be arbitrary. Then, by \thmref{thm:mean-value-theorem},
    there exists some $c \in (x_{1}, x_{2})$ such that
    \[
      f'(c) = \frac{f(x_{2}) - f(x_{1})}{x_{2} - x_{1}} \geq m > 0,
    \]
    which gives $f(x_{1}) - f(x_{2}) > 0$ and, consequently, $f(x_{1}) < f(x_{2})$. 
  \end{proof}
\end{problem}

\begin{problem}
  A fixed point of a function $f$ is a value $x$ where $f(x) = x$. Show that if
  $f$ is differentiable on a an interval with $f'(x) \neq 1$, then $f$ can have
  at most one fixed point.

  \begin{proof}
    Suppose (to find a contradiction) that $f$ has two or more fixed points on the stated interval.
    Let $x_{1} < x_{2}$ be two such points. By \thmref{thm:mean-value-theorem},
    \[
      \exists c \in (x_{1}, x_{2}).\, f'(c) = \frac{f(x_{2} - f(x_{1})}{x_{2} - x_{1}} = 1,
    \]
    which contradicts the fact that $f'(x) \neq 1$ for any $x$ in the interval.
  \end{proof}
\end{problem}

\begin{problem}
  Suppose that $f'(x) > g'(x)$ for all $x \in \R$ and that $f(a) = g(a)$.
  Show that $f(x) < g(x)$ for $x < a$.

  \begin{proof}
    We will prove the contrapositive, assuming $f(a) = g(a)$ initially. Suppose
    that there exists $x_{1} < a$ where $f(x_{1}) \geq g(x_{1})$. Then, by
    \thmref{thm:mean-value-theorem},
    \[
      \exists c \in (x_{1}, a).\, f'(c) = \frac{f(a) - f(x_{1})}{a - x_{1}} \leq g'(c) = \frac{g(a) - g(x_{1})}{a - x_{1}} = g'(c).
    \]
  \end{proof}
\end{problem}

\begin{problem}
  Suppose that $f'(x) > M > 0$ for all $x \in [0,1]$. Show that there is an
  interval of length $1/4$ on which $\abs{f(x)} > M/4$. 

  \begin{proof}
    We claim that either $(0, 1/4)$ or $(3/4, 1)$ is a satisfying interval of
    on which $\abs{f(x)} > M/4$ (both have length $1/4$). Note that $f$ has at
    most $1$ zero since it is strictly increasing on $[0, 1]$, per the result of
    \probref{prob:lower-bounded-deriv-strictly-increasing}, so we proceed with
    casework conditioning on the location of this zero (if it exists).

    First, consider the case when $f(x) \geq 0$ for all $x \in [0, 1]$. We will show that, for all 
    $x \in (3/4, 1)$, $\abs{f(x)} > M/4$. Since $\abs{f(x)} = f(x)$ is strictly increasing on $[0, 1]$, 
    it is sufficient to demonstrate that $f(3/4) > M/4$. Then, we conclude that
    \[
      f(3/4) \geq f(1/2) + M(3/4 - 1/2) = f(1/2) + M/4 > M/4,
    \]
    from the result of \probref{prob:lower-bounded-deriv-endpoints-not-on-secant-line}.

    Second, consider the case when $f(x) \leq 0$ for all $x \in [0, 1]$. We
    will show that, for all $x \in (0, 1/4)$, $\abs{f(x)} > M/4$.
    Let $g(x) = -f(x) = \abs{f(x)}$. Since $f(x)$ is strictly increasing on $[0, 1]$, we
    have $g(x)$ is strictly decreasing and $g'(x) < -M < 0$ over $[0, 1]$, so
    it is sufficient to show that $g(1/4) > M/4$. Thus,  
    \corref{cor:upper-bounded-deriv-endpoints-not-on-secant-line} gives
    \[
      g(1/2) \leq g(1/4) + (-M)(1/2 - 1/4),
    \]
    which is equivalent to
    \[
      g(1/4) \geq g(1/2) + M(1/2 - 1/4) = g(1/2) + M/4 > M/4.
    \]

    Lastly, we consider the case where there exists some $z \in (0, 1)$ such
    that $f(z) = 0$. If $z \leq 1/2$, select $(3/4, 1)$, which can be proven to
    be a satisfying interval using the same reasoning applied to the first
    case. Otherwise, select $(0, 1/4)$, which can be proven to be a satisfying
    interval using the same reasoning applied to the second case.
  \end{proof}
\end{problem}

